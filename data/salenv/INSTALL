*** Copyright (c) SRI International 2002. ***
There are eight basic steps to build and install SALENV:

1.  You need to have installed Bigloo (scheme compiler) version 2.5a or better. 
    Grab it from http://www-sop.inria.fr/mimosa/fp/Bigloo/
2.  You need to have installed GNU MP library version 3.1.1 or better.
    Grab it from http://www.swox.com/gmp/
3.  You need to have installed SAL2XML version 1.0 or better.
    Grab it from http://www.csl.sri.com/sal/
4.  You may want to install the SAL type checker version 1.0 or better.
    This software will allow you to typecheck sal specifications. 
    Grab it from http://www.csl.sri.com/sal/
5.  You may want to install Graphviz (open source graph drawing program) 
    version 1.5 or better. This package will allow you to produce
    nice state space graphs. Grab it at 
    http://www.research.att.com/sw/tools/graphviz/download.html
6.  Configure SALENV by running the `configure' script. 
    You may want to pass some options to it, see below.
7.  Build SALENV by running `make'.
8.  Install SALENV by running `make install'.

Note: The environment variable SALPATH should contain the path to find
SAL specification code.

Generic instructions for configuring and compiling auto-configured
packages are included below. Here is an illustration of commands that
might be used to build and install SALENV. The actual configuration,
compilation and installation output is not shown.

  % tar xvfz salenv-1.0.tar.gz   # unpack the sources
  % cd salenv-1.0                # change to the toplevel directory
  % ./configure                  # run the `configure' script
  % make                         # build SALENV
  % make install                 # install SALENV

The `configure' script examines your system, and adapts SALENV to
run on it. The script has many options, some of which are described in
the generic instructions included at the end of this file. All of the
options can be listed using the command `./configure --help'. There
are xxx commands special options SALENV `configure' script
recognizes. These are:

  1. --enable-debug and --disable-debug. This option causes the build
     process to compile with debugging enabled. If debugging is
     disabled, SALENV will instead be compiled with optimizations turned
     on. The default is for debugging to be disabled. NOTE: This
     option is intended primarily as a convenience for developers.

The `make' command builds several things:
 - salenv
 - sal-pretty-printer
 - sal-model-checker
 - sal-simulator
 - ltlweb

The `make install' commands installs SALENV executables, libraries, 
specification examples, etc. After running `make install' and assuming
the build process was successful you should be able to run `salenv'.


Error in Loading Shared Libraries
=================================

On some architecture you will be needing to tell the 
loader where to find the SALenv and Bigloo shared libraries. 
This can be done two ways:

- setting the shell LD_LIBRARY_PATH variable.
- updating the /etc/ld.so.conf file (read ldconfig man page).

Otherwise, you will probably receive the following error message:

salenv: error in loading shared libraries: libsalcore.so: cannot open shared object file: No such file or directory


SALENV libraries are installed in the Bigloo shared libraries directory.
If you installed Bigloo in usr/local, then the libraries are located at:

/usr/local/lib/bigloo/2.5a

In this case, you can fix the problem by adding the following command to your
.bashrc file:

export LD_LIBRARY_PATH=/usr/local/lib/bigloo/2.5a:$LD_LIBRARY_PATH


When ./configure fails
==================================

There are some SALENV modules that need additional third-party applications
and/or libraries installed on your system. For example to compile the default
SAL execution environment module, you need the GMP (GNU multi precision library)
files installed, otherwise you'll get an error message.

If you are sure that those libraries are correctly installed, but configure
fails to detect them, the following might help:

Set your LDFLAGS environment variable to look for the library in a certain
place, e.g. if you are working in a bash shell you would say:
      export LDFLAGS="-L<path_to_library> -L<path_to_another_one>"
before you run configure.

Set your CPPFLAGS environment variable to look for the header file in a
certain place, e.g. if you are working in a bash shell you would say:
      export CPPFLAGS="-I<path_to_header_file> -I<path_to_another_one>"
before you run configure.

It's wise to remove the file 'config.cache' before re-running configure.

Read the FAQ located in doc/salenv.html

Generic Instructions for Building Auto-Configured Packages
==========================================================

To compile this package:

1.  Configure the package for your system.  In the directory that this
file is in, type `./configure'.  If you're using `csh' on an old
version of System V, you might need to type `sh configure' instead to
prevent `csh' from trying to execute `configure' itself.

The `configure' shell script attempts to guess correct values for
various system-dependent variables used during compilation, and
creates the Makefile(s) (one in each subdirectory of the source
directory).  In some packages it creates a C header file containing
system-dependent definitions.  It also creates a file `config.status'
that you can run in the future to recreate the current configuration.
Running `configure' takes a minute or two.

To compile the package in a different directory from the one
containing the source code, you must use GNU make.  `cd' to the
directory where you want the object files and executables to go and
run `configure' with the option `--srcdir=DIR', where DIR is the
directory that contains the source code.  Using this option is
actually unnecessary if the source code is in the parent directory of
the one in which you are compiling; `configure' automatically checks
for the source code in `..' if it does not find it in the current
directory.

By default, `make install' will install the package's files in
/usr/local/bin, /usr/local/lib, /usr/local/man, etc.  You can specify
an installation prefix other than /usr/local by giving `configure' the
option `--prefix=PATH'.

You can specify separate installation prefixes for machine-specific
files and machine-independent files.  If you give `configure' the
option `--exec-prefix=PATH', the package will use PATH as the prefix
for installing programs and libraries.  Normally, all files are
installed using the same prefix.

`configure' ignores any other arguments that you give it.

If your system requires unusual options for compilation or linking
that `configure' doesn't know about, you can give `configure' initial
values for some variables by setting them in the environment.  In
Bourne-compatible shells, you can do that on the command line like
this:
        CC='gcc -traditional' DEFS=-D_POSIX_SOURCE ./configure

The `make' variables that you might want to override with environment
variables when running `configure' are:

(For these variables, any value given in the environment overrides the
value that `configure' would choose:)
CC              C compiler program.
                Default is `cc', or `gcc' if `gcc' is in your PATH.
INSTALL         Program to use to install files.
                Default is `install' if you have it, `cp' otherwise.
INCLUDEDIR      Directory for `configure' to search for include files.
                Default is /usr/include.

(For these variables, any value given in the environment is added to
the value that `configure' chooses:)
DEFS            Configuration options, in the form '-Dfoo -Dbar ...'
LIBS            Libraries to link with, in the form '-lfoo -lbar ...'

If you need to do unusual things to compile the package, we encourage
you to teach `configure' how to do them and mail the diffs to the
address given in the README so we can include them in the next
release.

2.  Type `make' to compile the package.

3.  Type `make install' to install programs, data files, and
documentation.

4.  You can remove the program binaries and object files from the
source directory by typing `make clean'.  To also remove the
Makefile(s), the header file containing system-dependent definitions
(if the package uses one), and `config.status' (all the files that
`configure' created), type `make distclean'.

The file `configure.in' is used as a template to create `configure' by
a program called `autoconf'.  You will only need it if you want to
regenerate `configure' using a newer version of `autoconf'.










